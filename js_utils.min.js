(function(){var t,n,e,r,i,s,o,u,l,h,a,c,f,p,d=[].slice,g=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1},y=function(t,n){function e(){this.constructor=t}for(var r in n)v.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},v={}.hasOwnProperty;window.DEBUG=!0,window.JSUtils={},JSUtils.Sequence=function(){function t(t,n,e){null==t&&(t=[]),null==n&&(n=!0),null==e&&(e=!0),this.data=t,this.idx=0,this.stopOnError=e,this._doneCallbacks=[],this._startCallback=null,this._endCallback=null,this._errorCallback=null,this._isDone=!1,this._isStopped=!1,this._parameterMode=this.constructor.PARAM_MODES.EXPLICIT,n===!0&&this.start()}return t.PARAM_MODES={CONTEXT:"CONTEXT",IMPLICIT:"IMPLICIT",EXPLICIT:"EXPLICIT"},t.prototype.start=function(t){return t instanceof Array&&(this.data=t),"function"==typeof this._startCallback&&this._startCallback(),this._invokeNextFunction(),this},t.prototype._createParamListFromContext=function(t,n){var e,r,i,s,o;if(!(n instanceof Array)){for(s=t.toString().split(/[()]/g).second.split(/\s*,\s*/g),o=[],i=0,r=s.length;r>i;i++)e=s[i],o.push(n[e]);return o}return n.slice(0)},t.prototype._invokeNextFunction=function(){var t,n,e,r,i,s,o,u,l,h,a,c,f,p;if(n=1<=arguments.length?d.call(arguments,0):[],this._isStopped)return this;if(r=this.data[this.idx],null!=r){if(r instanceof Array?(o=r[0],f=r[1],l=r[2]):(o=r.func,f=r.scope,l=r.params),null!=o){t=this.constructor,p=this,l instanceof Array&&l.length>0&&(this._parameterMode=t.PARAM_MODES.EXPLICIT),this._parameterMode===t.PARAM_MODES.CONTEXT?u=this._createParamListFromContext(o,n[0].context):this._parameterMode===t.PARAM_MODES.EXPLICIT?u=l:this._parameterMode===t.PARAM_MODES.IMPLICIT&&(u=n),l instanceof Function&&(e=this.data[this.idx-1],u=l(n,{func:(null!=e?e.func:void 0)||(null!=e?e[0]:void 0),scope:(null!=e?e.scope:void 0)||(null!=e?e[1]:void 0)||null,params:(null!=e&&null!=(h=e.params)?h.slice(0):void 0)||(null!=e&&null!=(a=e[2])?a.slice(0):void 0)||[]},this.idx));try{c=o.apply(f||window,u)}catch(s){i=s,c=null,this.stopOnError&&(this.interrupt(),"function"==typeof this._errorCallback&&this._errorCallback(i))}null!=(null!=c?c.done:void 0)&&null!=(null!=c?c.context:void 0)?c.done.done(function(){return p.idx++,p._parameterMode=t.PARAM_MODES.CONTEXT,p._invokeNextFunction(c)}):null!=(null!=c?c.done:void 0)?c.done(function(){return p.idx++,p._parameterMode=t.PARAM_MODES.IMPLICIT,p._invokeNextFunction.apply(p,d.call(arguments).concat([c]))}):(null!=c?c.context:void 0)?(this.idx++,this._parameterMode=t.PARAM_MODES.CONTEXT,this._invokeNextFunction(c)):(this.idx++,this._parameterMode=t.PARAM_MODES.IMPLICIT,this._invokeNextFunction(c))}}else this.lastResult=n[0],this._parameterMode===this.constructor.PARAM_MODES.CONTEXT&&(this.lastResult=this.lastResult.context),"function"==typeof this._endCallback&&this._endCallback(),this._execDoneCallbacks();return this},t.prototype._execDoneCallbacks=function(){var t,n,e,r;for(this._isDone=!0,r=this._doneCallbacks,e=0,n=r.length;n>e;e++)(t=r[e])();return this},t.prototype.stop=function(t){return null==t&&(t=!0),this._isStopped=!0,t&&("function"==typeof this._endCallback&&this._endCallback(),this._execDoneCallbacks()),this},t.prototype.interrupt=function(){return this.stop(!1)},t.prototype.resume=function(){return this._isStopped=!1,this._invokeNextFunction(),this},t.prototype.onStart=function(){var t,n,e;return n=arguments[0],e=arguments[1],t=3<=arguments.length?d.call(arguments,2):[],"function"==typeof n&&(this._startCallback=function(){return n.apply(e,t)}),this},t.prototype.onEnd=function(){var t,n,e;return n=arguments[0],e=arguments[1],t=3<=arguments.length?d.call(arguments,2):[],"function"==typeof n&&(this._endCallback=function(){return n.apply(e,t)}),this},t.prototype.onError=function(){var t,n,e;return n=arguments[0],e=arguments[1],t=3<=arguments.length?d.call(arguments,2):[],"function"==typeof n&&(this._errorCallback=function(r){return n.apply(e,[r].concat(t))}),this},t.prototype.done=function(){var t,n,e,r;return n=arguments[0],e=arguments[1],t=3<=arguments.length?d.call(arguments,2):[],"function"==typeof n&&(r=this,this._isDone?n.apply(e,t.concat([r.lastResult])):this._doneCallbacks.push(function(){return n.apply(e,t.concat([r.lastResult]))})),this},t.prototype.then=t.prototype.done,t.prototype.progress=function(){return this.idx/this.data.length},t.prototype["while"]=function(t,n,e,r){return this.onStart(t,e,r),this.onEnd(n,e,r),this},t}(),JSUtils.Barrier=function(){function t(t,n){null==t&&(t=[]),null==n&&(n=!0),this.data=t,this.remainingThreads=t.length,this.funcResults=[],this._doneCallbacks=[],this._startCallback=null,this._endCallback=null,this._endAllCallback=null,this._isDone=!1,this._isStopped=!1,this._sequences=[],n===!0&&this.start()}return t.forArray=function(t,n,e){var r,i,s,o;for(null==t&&(t=[]),null==e&&(e=!0),r=[],o=0,s=t.length;s>o;o++)i=t[o],r.push({func:function(t){return function(){return n(t)}}(i)});return new JSUtils.Barrier(r,e)},t.prototype.start=function(t){var n,e,r,i,s;if(t instanceof Array&&(this.data=t,this.remainingThreads=t.length),"function"==typeof this._startCallback&&this._startCallback(),this.remainingThreads>0)for(s=this.data,e=i=0,r=s.length;r>i;e=++i)n=s[e],null!=n&&this._invokeNextFunction(n,e);else this._funcDone();return this},t.prototype._invokeNextFunction=function(t,n){var e,r,i;return e=t.func||t[0],i=t.scope||t[1],r=t.params||t[2],this._sequences.push(new JSUtils.Sequence([{func:function(){var t,n;try{return e.apply(i,r)}catch(n){return t=n}}},{func:function(t){return this.funcResults[n]=t,this._funcDone(),this},scope:this}])),this},t.prototype._funcDone=function(){return--this.remainingThreads<=0&&(this._isDone=!0,"function"==typeof this._endCallback&&this._endCallback(),this._execDoneCallbacks(),"function"==typeof this._endAllCallback&&this._endAllCallback()),this},t.prototype.done=function(){var t,n,e,r;return n=arguments[0],e=arguments[1],t=3<=arguments.length?d.call(arguments,2):[],"function"==typeof n&&(r=this,this._isDone?n.apply(e,t.concat([r.funcResults])):this._doneCallbacks.push(function(){return n.apply(e,t.concat([r.funcResults]))})),this},t.prototype.then=t.prototype.done,t.prototype.progress=function(){return 1-this.remainingThreads/this.data.length},t.prototype._execDoneCallbacks=function(){var t,n,e,r;for(r=this._doneCallbacks,e=0,n=r.length;n>e;e++)(t=r[e])();return this},t.prototype["while"]=function(t,n,e){return null!=e?(this._startCallback=function(){return e.startCallback()},this._endCallback=function(){return e.endCallback()}):(this._startCallback=t,this._endCallback=n),this},t}(),JSUtils.Doneable=new JSUtils.Sequence,JSUtils.Hash=function(){function t(t,n,e){var r,i;if(null==n&&(n=null),null==e&&(e=function(t,n){return t===n}),this.keys=[],this.values=[],this.defaultVal=n,this.equality=e,null!=t)for(r in t)i=t[r],this.put(r,i)}var n;return t.fromObject=function(t){var n,e,r;n=new JSUtils.Hash;for(e in t)r=t[e],n.put(e,r);return n},t.prototype.toObject=function(){var t,n,e,r,i,s;for(s={},i=this.keys,t=r=0,e=i.length;e>r;t=++r)n=i[t],s[n]=this.values[t];return s},t.prototype.clone=function(){var t;return t=new JSUtils.Hash,t.keys=this.keys.slice(0),t.values=this.values.slice(0),t},t.prototype.invert=function(){var t;return t=new JSUtils.Hash,t.keys=this.values.slice(0),t.values=this.keys.slice(0),t},n=function(t){var n,e;for(n in t)e=t[n],this.put(n,e);return this},t.prototype._findKeyIdx=function(t){var n,e,r,i,s;for(s=this.keys,e=i=0,r=s.length;r>i;e=++i)if(n=s[e],("function"==typeof this.equality?this.equality(n,t):void 0)||n===t)return e;return-1},t.prototype.put=function(t,e){var r;return null==e?n.call(this,t):(r=this._findKeyIdx(t),0>r?(this.keys.push(t),this.values.push(e)):(this.keys[r]=t,this.values[r]=e),this)},t.prototype.get=function(t){var n;return n=this._findKeyIdx(t),n>=0?this.values[n]:("function"==typeof this.defaultVal?this.defaultVal(t):void 0)||this.defaultVal},t.prototype.getAll=function(){var t,n,e,r,i,s;for(s=[],i=this.keys,t=r=0,e=i.length;e>r;t=++r)n=i[t],s.push([n,this.values[t]]);return s},t.prototype.has=function(t){return this._findKeyIdx(t)>=0},t.prototype.hasKey=function(){return this.has.apply(this,arguments)},t.prototype.size=function(){return this.keys.length},t.prototype.getKeys=function(t){return null==t&&(t=!0),t===!0?this.keys.slice(0):this.keys},t.prototype.getValues=function(t){return null==t&&(t=!0),t===!0?this.values.slice(0):this.values},t.prototype.getKeysForValue=function(t){var n,e,r;return e=function(){var e,i,s,o;for(s=this.values,o=[],n=i=0,e=s.length;e>i;n=++i)r=s[n],(this.equality(r,t)||r===t)&&o.push(n);return o}.call(this),function(){var t,r,i;for(i=[],r=0,t=e.length;t>r;r++)n=e[r],i.push(this.keys[n]);return i}.call(this)},t.prototype.empty=function(){return this.keys=[],this.values=[],this},t.prototype.remove=function(t){var n;return n=this._findKeyIdx(t),n>=0&&(this.keys.splice(n,1),this.values.splice(n,1)),this},t.prototype.each=function(t){var n,e,r,i,s;for(s=this.keys,n=i=0,r=s.length;r>i;n=++i)if(e=s[n],t(e,this.values[n],n)===!1)return this;return this},t}(),e=function(t,n){var e,r,i,s;if(t.length!==n.length)return!1;for(e=i=0,r=t.length;r>i;e=++i)if(s=t[e],s!==n[e])return!1;return!0},r=function(t,n,r){var i,s,o,u,l,h,a;for(o=function(){var n,e,r;for(r=[],e=0,n=t.length;n>e;e++)i=t[e],r.push(i.constructor);return r}(),u=a=0,h=n.length;h>a;u=++a){if(s=n[u],e(s,o))return r[u]||r[l];l=u}return null},JSUtils.overload=function(){var t,n,e,i,s,o,u,l,h,a,c,f,p;for(i=1<=arguments.length?d.call(arguments,0):[],e=[],s=[],o=0,h=i.length;h>o;){for(u=o;!((n=i[u])instanceof Function)&&h>u;)n instanceof Array?e.push(n):e.push(function(){var t;t=[];for(c in n)p=n[c],t.push(p);return t}()),u++;if(!(h>u))throw new Error("No function given for argument lists: "+JSON.stringify(function(){var e,r,s,u;for(s=i.slice(o),u=[],r=0,e=s.length;e>r;r++)n=s[r],u.push(function(){var e,r,i;for(i=[],r=0,e=n.length;e>r;r++)t=n[r],i.push(t.name);return i}());return u}()));for(s.push(i[u]),l=a=0,f=u-o-1;f>=0?f>a:a>f;l=f>=0?++a:--a)s.push(null);o=u+1}return function(){var t;if(null!=(t=r(arguments,e,s)))return t.apply(this,arguments);throw new Error("Arguments do not match any known argument list!")}},h={},n={},l=!0,h.Math={isNum:function(t){return null!=t&&("number"==typeof t||t instanceof Number)&&isFinite(t)},average:function(){var t,n,e,r,i,s;for(s=1<=arguments.length?d.call(arguments,0):[],i=0,n=0,r=0,e=s.length;e>r;r++)t=s[r],Math.isNum(t)&&(i+=t,n++);return i/n},sign:function(t){return Math.isNum(t)?0>t?-1:t>0?1:0:void 0},log10:function(t){return Math.isNum(t)&&t>0?Math.log(t)/Math.LN10:void 0}},h["Function.prototype"]={clone:function(){var t=this,n=function(){return t.apply(this,arguments)};for(key in this)n[key]=this[key];return n}},h.Object={except:function(){var t,n,e,r,i;e=arguments[0],n=2<=arguments.length?d.call(arguments,1):[],n.first instanceof Array&&(n=n.first),n=n.concat(Object.keys(e.__proto__)),r={};for(t in e)i=e[t],g.call(n,t)<0&&(r[t]=i);return r.__proto__=e.__proto__,r},values:function(t){var n,e;return function(){var r;r=[];for(n in t)e=t[n],r.push(e);return r}()},swapValues:function(){var t,n,e,r,i,s,o,u;if(s=arguments[0],r=2<=arguments.length?d.call(arguments,1):[],r.length%2===0)for(t=i=0,o=r.length;o>i;t=i+=2)n=r[t],e=r[t+1],u=s[n],s[n]=s[e],s[e]=u;return s}},h["Element.prototype"]={remove:function(){return this.parentNode.removeChild(this)}},h["String.prototype"]={replaceMultiple:function(t,n){var e,r,i,s,o,u,l,h,a,c,f;if(null==t||t.length<2)return this;if(i=t.length,o={0:0,tuples:0,1:1,diffByOne:1,2:2,oneByDiff:2},n=o[n],null==n&&(n=0),f=this,0===n){if(1&i)return this;for(r=s=0,h=i;h>s;r=s+=2)f=f.replace(t[r],t[r+1])}if(1===n)for(c=t[i-1],r=l=0,a=i-1;a>=0?a>l:l>a;r=a>=0?++l:--l)f=f.replace(t[r],c);if(2===n){if(2!==i)return this;for(u=t.first,e=t.second,r=0;-1!==f.indexOf(u)&&r<f.length;)f=f.replace(u,e(r)),r++}return f},firstToUpper:function(){return this.charAt(0).toUpperCase()+this.slice(1)},firstToLower:function(){return this.charAt(0).toLowerCase()+this.slice(1)},capitalize:function(){var t,n,e,r,i;for(r="",e=this.split(" "),n=0,t=e.length;t>n;n++)i=e[n],r+=i.firstToUpper()+" ";return r.trim()},camelToKebab:function(){return this.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1-$2$3").toLowerCase()},snakeToCamel:function(){var t,n,e,r,i;for(i="",e=0,n=this.length;n>e;e++)t=this[e],"_"!==t&&(i+="_"!==r?t:t.toUpperCase()),r=t;return i},camelToSnake:function(){var t,n,e,r,i;for(i="",r=null,e=0,n=this.length;n>e;e++)t=this[e],i+=t===t.toLowerCase()?t:r?"_"+t.toLowerCase():t.toLowerCase(),r=t;return i},isNumeric:function(){var t;return t=parseFloat(this),(""+t==""+this||"+"+t==""+this)&&Math.isNum(t)},endsWith:function(t){var n;return n=this.lastIndexOf(t),n>=0?n+t.length===this.length:!1},times:function(t){var n,e,r,i;for(null==t&&(t=1),i=""+this,n=e=1,r=t;r>=1?r>e:e>r;n=r>=1?++e:--e)i+=""+this;return i},encodeHTMLEntities:function(){return this.replace(/[\u00A0-\u9999<>\&]/gim,function(t){return"&#"+t.charCodeAt(0)+";"})}},n["String.prototype"]={lower:"toLowerCase",upper:"toUpperCase"},h["Array.prototype"]={unique:function(){var t,n,e,r;for(r=[],e=0,n=this.length;n>e;e++)t=this[e],g.call(r,t)<0&&r.push(t);return r},uniqueBy:function(t,n){var e,r,i,s,o,u,l,h;for(null==t&&(t=function(t){return t}),null==n&&(n=function(t,n){return t===n}),h=[],u=0,s=this.length;s>u;u++){for(i=this[u],r=!1,l=0,o=h.length;o>l;l++)if(e=h[l],n(t(e),t(i))){r=!0;break}r||h.push(i)}return h},intersect:function(t){var n;return t=t,function(){var e,r,i;for(i=[],r=0,e=this.length;e>r;r++)n=this[r],g.call(t,n)>=0&&i.push(n);return i}.call(this).unique()},intersects:function(t){return this.intersect(t).length>0},groupBy:function(t,n){var e,r,i,s,o;for(e=new JSUtils.Hash(null,n),o=0,s=this.length;s>o;o++)r=this[o],i=t(r),null==e.get(i)&&e.put(i,[]),e.get(i).push(r);return e},insert:function(){var t,n;return n=arguments[0],t=2<=arguments.length?d.call(arguments,1):[],this.splice.apply(this,[n,0].concat(d.call(t))),this},remove:function(){var t,n,e,r,i,s,o,u,l,h,a,c,f,p,g,y;for(e=3<=arguments.length?d.call(arguments,0,h=arguments.length-2):(h=0,[]),r=arguments[h++],g=arguments[h++],null==g&&(g=!1),arguments.length<3&&(e=function(){var n,e,r;for(r=[],e=0,n=arguments.length;n>e;e++)t=arguments[e],r.push(t);return r}.apply(this,arguments),r=null,g=null),null==r&&(r=function(t,n){return t===n}),c=0,o=e.length;o>c;c++){for(n=e[c],s=[],i=f=0,u=this.length;u>f&&(a=this[i],!r(a,n)||(s.push(i),g));i=++f);for(y=p=0,l=s.length;l>p;y=++p)i=s[y],this.splice(i-y,1)}return this},removeAt:function(t){return this.splice(t,1),this},moveElem:function(t,n){var e,r,i,s,o,u;for(u=[],r=this[t],i=o=0,s=this.length;s>o;i=++o)e=this[i],i!==t&&(u.push(e),i===n&&u.push(r));return u},flatten:function(){return Array.prototype.concat.apply([],this)},cloneDeep:function(){var t,n,e,r;for(n=r=0,e=this.length;e>r;n=++r)t=this[n],t instanceof Array&&(this[n]=t.cloneDeep());return this.clone()},except:function(){var t,n;return n=1<=arguments.length?d.call(arguments,0):[],function(){var e,r,i;for(i=[],r=0,e=this.length;e>r;r++)t=this[r],g.call(n,t)<0&&i.push(t);return i}.call(this)},find:function(t,n){var e,r,i,s,o;for(t instanceof Function||(t=function(n){return n===t}),null==n&&(n=function(t){return t}),i=0,r=this.length;r>i;i++){if(e=this[i],t(e)===!0)return e;if((o=n(e))instanceof Array&&null!=(s=o.find(t,n)))return s}return null},binIndexOf:function(t){var n,e,r,i;for(i=0,r=this.length-1;r>=i;)if(e=Math.floor((i+r)/2),n=this[e],t>n)i=e+1;else{if(!(n>t))return e;r=e-1}return-1},sortByProp:function(t,n){var e;return null==n&&(n="asc"),null==t&&(t=function(t){return t}),e="asc"===n?function(n,e){return n=t(n),e=t(e),e>n?-1:n>e?1:0}:function(n,e){return n=t(n),e=t(e),n>e?-1:e>n?1:0},this.sort(e)},getMax:function(t){var n,e,r,i,s,o;for(i=null,s=[],null==t&&(t=function(t){return t}),r=0,e=this.length;e>r;r++)n=this[r],o=t(n),o>i||null===i?(i=o,s=[n]):o===i&&s.push(n);return s},getMin:function(t){var n,e,r,i,s,o;for(i=null,s=[],null==t&&(t=function(t){return t}),r=0,e=this.length;e>r;r++)n=this[r],o=t(n),i>o||null===i?(i=o,s=[n]):o===i&&s.push(n);return s},reverseCopy:function(){var t;return function(){var n,e;for(e=[],n=this.length-1;n>=0;n+=-1)t=this[n],e.push(t);return e}.call(this)},sample:function(t,n){var e,r,i,s;if(null==t&&(t=1),null==n&&(n=!1),1===t)return n?[this[Math.floor(Math.random()*this.length)]]:this[Math.floor(Math.random()*this.length)];for(t>this.length&&(t=this.length),i=0,s=[],e=this.clone();i++<t;)r=e.sample(1),s.push(r),e.remove(r);return s},shuffle:function(){var t,n,e,r,i;for(t=this.sample(this.length),e=i=0,r=t.length;r>i;e=++i)n=t[e],this[e]=n;return this},swap:function(t,n){var e;return e=this[t],this[t]=this[n],this[n]=e,this},times:function(t){var n,e,r,i;for(i=this.clone(),n=e=1,r=t;r>=1?r>e:e>r;n=r>=1?++e:--e)i=i.merge(this);return i},and:function(t){return this.concat([t])},merge:function(t){return Array.prototype.push.apply(this,t),this},noNulls:function(){var t,n,e,r;for(r=[],e=0,n=this.length;n>e;e++)t=this[e],null!=t&&r.push(t);return r},getLast:function(t){return null==t&&(t=1),this.slice(-t)},average:{get:function(){return Math.average.apply(null,this)},set:function(){}},last:{get:function(){return this[this.length-1]},set:function(t){return this[this.length-1]=t,this}},sum:{get:function(){var t,n,e,r;for(r=0,e=0,n=this.length;n>e;e++)t=this[e],Math.isNum(t)&&(r+=t);return r},set:function(){return this}},first:{get:function(){return this[0]},set:function(t){return this[0]=t,this}},second:{get:function(){return this[1]},set:function(t){return this[1]=t,this}},third:{get:function(){return this[2]},set:function(t){return this[2]=t,this}},fourth:{get:function(){return this[3]},set:function(t){return this[3]=t,this}},fifth:{get:function(){return this[4]},set:function(t){return this[4]=t,this}},sixth:{get:function(){return this[5]},set:function(t){return this[5]=t,this}},seventh:{get:function(){return this[6]},set:function(t){return this[6]=t,this}},eighth:{get:function(){return this[7]},set:function(t){return this[7]=t,this}},ninth:{get:function(){return this[8]},set:function(t){return this[8]=t,this}},tenth:{get:function(){return this[9]},set:function(t){return this[9]=t,this}},eleventh:{get:function(){return this[10]},set:function(t){return this[10]=t,this}},twelveth:{get:function(){return this[11]},set:function(t){return this[11]=t,this}}},n["Array.prototype"]={prepend:"unshift",append:"push",clone:"slice",without:"except"},h["$.fn"]={content:function(t){var n,e;return null!=t?("string"==typeof t&&(n=this.children().detach(),this.empty().append(t).append(n)),this):(n=this.children().detach(),e=this.text(),this.append(n),e.trim())},toggleAttr:function(t,n,e){var r,i,s,o;for(o=0,s=this.length;s>o;o++)i=this[o],r=$(i),null!=n&&null!=e?(r.attr("data-toggle-attr-"+t+"-val1",n),r.attr("data-toggle-attr-"+t+"-val2",e)):(n=r.attr("data-toggle-attr-"+t+"-val1"),e=r.attr("data-toggle-attr-"+t+"-val2")),r.attr(t)===n?r.attr(t,e):r.attr(t,n);return this},toggleCss:function(t,n,e){var r,i,s,o;for(o=0,s=this.length;s>o;o++)i=this[o],r=$(i),null!=n&&null!=e?(r.attr("data-toggle-css-"+t+"-val1",n),r.attr("data-toggle-css-"+t+"-val2",e)):(n=r.attr("data-toggle-css-"+t+"-val1"),e=r.attr("data-toggle-css-"+t+"-val2")),r.css(t)===n?r.css(t,e):r.css(t,n);return this},dimensions:function(){var t;return t={x:this.width(),y:this.height()},t.width=t.x,t.height=t.y,t},outerDimensions:function(t){var n;return null==t&&(t=!0),n={x:this.outerWidth(t),y:this.outerHeight(t)},n.width=n.x,n.height=n.y,n},showNow:function(t){return null==t&&(t="block"),this[0].style.display=t,this},hideNow:function(){return this[0].style.display="none",this},inDom:function(){return $.contains(document.documentElement,this[0])},wrapAll:function(t){return t instanceof $||(t=$(t)),t.append(this),this}},h["$.Color.fn"]={distanceTo:function(t,n){return null==n&&(n=function(t,n){return Math.abs(t.red()-n.red())+Math.abs(t.green()-n.green())+Math.abs(t.blue()-n.blue())}),n(this,t)},isSimilarTo:function(t){return this.distanceTo(t)/255<.3819660112501453},toRgbaString:function(){return"rgba("+this._rgba.join(",")+")"}},i=function(t){var n,e,r,i,s;for(i=t.split("."),s=window,e=0,n=i.length;n>e;e++)r=i[e],s=null!=s?s[r]:void 0;return s};for(p in h)if(f=h[p],u=i(p),null!=u)if(l){for(o in f)s=f[o],null!=u[o]&&(u["_"+o]=u[o]),s instanceof Function?Object.defineProperty(u,o,{value:s,configurable:!1,enumerable:!1,writable:!1}):Object.defineProperty(u,o,s);if(null!=n[p]){c=n[p];for(t in c)o=c[t],null!=u[t]&&(u["_"+t]=u[t]),u[t]=u[o]}}else{for(o in f)s=f[o],null!=u[o]&&(o="_"+o),s instanceof Function?Object.defineProperty(u,o,{value:s,configurable:!1,enumerable:!1,writable:!1}):Object.defineProperty(u,o,s);if(null!=n[p]){a=n[p];for(t in a)o=a[t],null!=u[t]&&(t="_"+t),u[t]=u[o]}}JSUtils.Tree=function(){function t(t){var n,e,r,i;if(r=this,this.children=[],this.parent=null,this.descendants=[],this.orderMode="postorder",null==t)this.data={};else{this.data=t.data||t,n=Object.keys(this.constructor.prototype).concat(["children","parent","descendants","data","orderMode","getClass","getClassName","constructor"]);for(e in t)i=t[e],g.call(n,e)<0&&(i instanceof Function?!function(n,e){return r[n]=function(){return e.call.apply(e,[t].concat(d.call(arguments)))}}(e,i):!function(t,n){return Object.defineProperty(r,t,{get:function(){return r.data[t]},set:function(n){return r.data[t]=n,r}})}(e,i))}}var n;return n=t,t["new"]=function(t,e){if(isFunction(t)&&t instanceof this)return new n(t);if(null!=t.children)return n["new"].byChildRef(t);if(null!=t.parent)return n["new"].byParentRef(t);if(null!=e){if(null!=e.getChildren)return n["new"].byChildRef(t,e);if(null!=e.getParent)return n["new"].byParentRef(t,e)}return null},t["new"].byChildRef=function(t,e){var r,i,s,o,u,l,h,a;for(o={getChildren:function(t){return t.children},instantiate:function(t){return new n(t)},afterInstantiate:function(t,n){return!1},adjustLevels:!0},e=$.extend(o,e),r=e.adjustLevels,e.adjustLevels=!1,a=e.instantiate(t),e.afterInstantiate(t,a),h=e.getChildren(t)||[],l=0,u=h.length;u>l;l++)i=h[l],s=n["new"].byChildRef(i,e),a.addChild(s,null,!1);return r&&a.adjustLevels(0),a},t["new"].byParentRef=function(t,e){var r;return r=new n},t.fromRecursive=t["new"],Object.defineProperties(t.prototype,{depth:{get:function(){return this.getDepth()},set:function(){return this}},size:{get:function(){return this.getSize()},set:function(){return this}},level:{get:function(){return this.getLevel()},set:function(){return this}},root:{get:function(){return this.getRoot()},set:function(){return this}}}),t.prototype._cacheDescendants=function(){var t,n,e,r,i;for(i=[],r=this.children,e=0,n=r.length;n>e;e++)t=r[e],t._cacheDescendants(),i=i.concat(t.descendants);return this.descendants=this.children.concat(i),this},t.prototype.equals=function(t,n){var e,r,i,s,o,u,l,h,a,c;if(this.children.length>0){if(this.children.length!==t.children.length||this.descendants.length!==t.descendants.length)return!1;for(a=t.children.clone(),c=this.children,s=0,r=c.length;r>s;s++){for(u=c[s],o=!1,e=l=0,i=a.length;i>l;e=++l)if(h=a[e],u.equals(h)){o=!0;break}if(!o)return!1;a.splice(e,1)}return!0}return n instanceof Function?n(this,t):!0},t.prototype.hasNode=function(t){return this===t||g.call(this.descendants,t)>=0},t.prototype.findNode=function(t){var n;return(null!=(n=this.findNodes(t))?n.first:void 0)||null},t.prototype.findDescendant=function(){return this.findNode.apply(this,arguments)},t.prototype.findNodes=function(t){var n,e,r,i,s;if(s=[],t instanceof Function)for(i=this.descendants,e=0,n=i.length;n>e;e++)r=i[e],t(r)&&s.push(r);return s},t.prototype.findDescendants=function(){return this.findNodes.apply(this,arguments)},t.prototype.getDepth=function(){var t;return this.children.length>0?(t=this.descendants.getMax(function(t){return t.level}),t.first.level-this.level):0},t.prototype.getSize=function(){return this.descendants.length+1},t.prototype.getLevel=function(){return this._level},t.prototype.getRoot=function(){var t;if(null==(t=this.parent))return this;for(;null!=t.parent;)t=t.parent;return t},t.prototype.getLeaves=function(){var t,n,e,r,i;for(n=[],i=this.children,r=0,e=i.length;e>r;r++)t=i[r],t.children.length>0?n.merge(t.getLeaves()):n.push(t);return n},t.prototype.isLeaf=function(){return 0===this.children.length},t.prototype.serialize=function(t,n){var e,r,i,s,o,u,l;for(null==n&&(n=[]),l=[],u=this.children,o=0,s=u.length;s>o;o++)i=u[o],g.call(n,i)<0&&(n.push(i),l.push(i.serialize(t,n)));return null==t?{children:l,data:("function"==typeof(e=this.data).serialize?e.serialize():void 0)||JSON.parse(JSON.stringify(this.data))}:t(this,l,("function"==typeof(r=this.data).serialize?r.serialize():void 0)||JSON.parse(JSON.stringify(this.data)))},t.prototype.deserialize=function(t){var n,e,r,i,s;for(i=this.constructor["new"](t),this.children=i.children,s=r=0,e=t.length;e>r;s=++r)n=t[s],"children"!==n&&(this[n]=s);return this},t.prototype.toObject=function(){return this.serialize()},t.prototype.pathToRoot=function(){var t;for(t=[this],u=this.parent;null!=u;)t.push(u),u=u.parent;return t.reverse(),t},t.prototype.getSiblings=function(){var t;return(null!=(t=this.parent)?t.children.except(this):void 0)||[]},t.prototype.getLevelSiblings=function(){var t,n,e;return n=this,e=null!=(t=this.getRoot())?t.findNodes(function(t){return t.level===n.level&&t!==n}):void 0,e||[]},t.prototype.getParent=function(){return this.parent},t.prototype.getChildren=function(){return this.children},t.prototype.addChild=function(t,e,r){return null==r&&(r=!0),t.instanceOf(JSUtils.Tree)||(t=new n(t)),null!=t.parent&&t.parent!==this?(t.moveTo(this,e),this):(null==e?this.children.push(t):this.children.insert(e,t),t.parent=this,r&&t.adjustLevels(this.level),this)},t.prototype.appendChild=function(){return this.addChild.apply(this,arguments)},t.prototype.addChildren=function(t,n,e){var r,i;for(null==e&&(e=!0),r=t.length-1;r>=0;r+=-1)i=t[r],null!=i&&this.addChild(i,n,!1);return e&&this.adjustLevels(this.level),this},t.prototype.appendChildren=function(){return this.addChildren.apply(this,arguments)},t.prototype.setChildren=function(t,n,e){var r,i,s;for(null==n&&(n=!1),null==e&&(e=!0),this.children=[],n&&(t=function(){var n,e,r;for(r=[],e=0,n=t.length;n>e;e++)s=t[e],null!=s&&r.push(s.clone());return r}()),i=0,r=t.length;r>i;i++)s=t[i],this.addChild(s,!1);return e&&this.adjustLevels(this.level),this},t.prototype.moveTo=function(t,n,e){return null==e&&(e=!0),this.remove(!1),t.addChild(this,n,e),this},t.prototype.remove=function(t){return null==t&&(t=!0),null!=this.parent&&(this.parent.children=this.parent.children.except(this),this.parent.descendants=this.parent.descendants.except(this.descendants.and(this)),this.parent=null,t&&this.adjustLevels()),this},t.prototype.removeChild=function(t){return g.call(this.children,t)>=0&&t.remove(),this},t.prototype.removeChildAt=function(t){return removeChild(this.children[t])},t.prototype.appendTo=function(t){return t.addChild(this)},t.prototype.adjustLevels=function(t){return null==t&&(t=0),this._cacheDescendants().each(function(n,e,r){return n._level=t+e,!0}),this},t.prototype.traverse=function(t,n,e){return null==n&&(n=this.orderMode||"postorder"),null==e&&(e=null),this[n](t,null,e)},t.prototype.each=function(){return this.traverse.apply(this,arguments)},t.prototype.postorder=function(t,n,e){var r,i,s,o;for(null==n&&(n=0),null==e&&(e={idx:0,ctx:this}),o=this.children,s=0,i=o.length;i>s;s++)r=o[s],r.postorder(t,n+1,e),e.idx++;return t.call(e.ctx,this,n,e.idx)===!1?this:this},t.prototype.preorder=function(t,n,e){var r,i,s,o;if(null==n&&(n=0),null==e&&(e={idx:0,ctx:this}),t.call(e.ctx,this,n,e.idx)===!1)return this;for(o=this.children,s=0,i=o.length;i>s;s++)r=o[s],r.preorder(t,n+1,e),e.idx++;return this},t.prototype.inorder=function(t,n,e,r){var i,s,o,u,l,h;for(null==e&&(e=Math.floor(this.children.length/2)),null==r&&(r={idx:0,ctx:this}),i=s=0,u=e;u>=0?u>s:s>u;i=u>=0?++s:--s)this.children[i].inorder(t,n+1,e,r),r.idx++;if(t.call(r.ctx,this,n,r.idx)===!1)return this;for(i=o=l=e,h=this.children.lenth;h>=l?h>o:o>h;i=h>=l?++o:--o)this.children[i].inorder(t,n+1,e,r),r.idx++;return this},t.prototype.levelorder=function(t,n,e){var r,i,s,o,u;for(null==n&&(n=0),null==e&&(e={idx:0,ctx:this,levelIdx:0}),s=[this],u=this.level,o=0;s.length>0;){if(i=s.shift(),r=i.level-u,r>o&&(e.levelIdx=0),t.call(e.ctx,i,r,e)===!1)return this;o=r,e.idx++,e.levelIdx++,s=s.concat(i.children)}return this},t}(),JSUtils.Leaf=function(t){function n(t){n.__super__.constructor.call(this,t),delete this.children,Object.defineProperty(this,"children",{get:function(){return[]},set:function(){throw new Error("JSUtils.Leaf::children=: Cannot set children of a leaf!")}})}var e;return y(n,t),e=n,n["new"]=function(t){return new this(t)},n.prototype._cacheDescendants=function(){return this},n.prototype.findNodes=function(t){return null},n.prototype.getDepth=function(){return 0},n.prototype.getSize=function(){return 0},n.prototype.getLevel=function(){return this._level},n.prototype.getLeaves=function(){return[]},n.prototype.isLeaf=function(){return!0},n.prototype.serialize=function(t){var n,e;return null==t?{children:[],data:("function"==typeof(n=this.data).serialize?n.serialize():void 0)||JSON.parse(JSON.stringify(this.data))}:t(this,[],("function"==typeof(e=this.data).serialize?e.serialize():void 0)||JSON.parse(JSON.stringify(this.data)))},n.prototype.deserialize=function(t){return this.data=t,this},n.prototype.getChildren=function(){return[]},n.prototype.addChild=function(){throw new Error("JSUtils.Leaf::addChild: Cannot add a child to a leaf!")},n.prototype.addChildren=function(){throw new Error("JSUtils.Leaf::addChildren: Cannot add children to a leaf!")},n.prototype.setChildren=function(){throw new Error("JSUtils.Leaf::setChildren: Cannot set children of a leaf!")},n.prototype.removeChild=function(){throw new Error("JSUtils.Leaf::removeChild: Cannot remove children of a leaf!")},n.prototype.removeChildAt=function(t){throw new Error("JSUtils.Leaf::removeChildAt: Cannot remove children of a leaf!")},n.prototype.adjustLevels=function(){return this},n}(JSUtils.Tree)}).call(this);